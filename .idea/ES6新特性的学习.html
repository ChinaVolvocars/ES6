<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ES6新特性</title>
</head>
<body>

<script>
    /*
        //作用域
        //var 不够严格，会跑到代码外
        for (var i = 0; i < 6; i++) {
            console.log('var：' + i)
    
        }
    
        console.log('var循环外：' + i)
    
        //控制作用域 代码块中
        for (let i1 = 0; i1 < 6; i1++) {
            console.log('let：' + i1)
        }
    
        // console.log('let 循环外：' + i1)
    
    
        //常量 相当于 final 不可以修改
        const st = 'age'
        console.log(st)
    
    
        //Assignment to constant variable
        // st = 'ggg'
        // console.log(st)
    
        //字符串的扩展
        let game = "hello pc"
        console.log('以h开头' + game.startsWith("h"))
        console.log('以h结尾嘛' + game.endsWith("h"))
    
        let mp = `
        K
        D
        D
        DFF
        GG
        HH
        KK
        LL
        `
        console.log(mp)
    
        //数组的解构
    
        let arr = [1, 2, 3]
    
        const [a, b, c] = arr;
    
        console.log(a, b, c)
    
        const [a1] = arr;
        console.log(a1)
    
        //对象解构
        const student = {
            name: '酷酷酷',
            age: '888',
            language: ['java', 'js', 'css']
        }
    
        const {name, age, language} = student;
        console.log(name, age, language)
        console.log(name)
        console.log(age)
        console.log(language)
    
        const {name: n, age: a11, language: l} = student;
    
        console.log(n, a11, l)
    
        //函数默认值
        function test(op, PO = 1) {
            return op + PO;
        }
    
        console.log("函数默认值：" + test(10, 2));
        console.log("函数默认值：" + test(10));*/


    /* //箭头函数
     //一个参数
     let singleVar = az => console.log(az)
     //二个参数
     let sum = (mn, mk) => console.log((mn + mk))
     //带返回值的
     let sum2 = (m1, m2) => {
         return m1 + m2
     }
     //没有参数的
     let ko = () => console.log('没有参数的箭头函数')
     console.log(singleVar(1))
     console.log(sum(1, 2))
     console.log(sum2(3, 2))
 
     console.log(ko())
 */


    //对象的函数属性简写
    let person = {
        name: 'AFFA',
        eat: function (food) {
            console.log(food)
        },
        eat2: food => console.log(food),
        eat3(food) {
            console.log(food)
        }
    }


    person.eat3('西瓜')
    person.eat2('朝阳')
    person.eat('哈密瓜')


    //箭头函数结合结构表达式
    // const core = {
    //     name: 'JA',
    //     age: 21,
    //     language: [1, 2, 3]
    // }
    //
    // function play(core) {
    //     console.log('core:' + core.name)
    // }
    //
    // var hi = ({name}) => console.log('使用箭头和函数和结构表达式core:' + name)
    // hi(person)

    /*
        //map 和 reduce 
        //map 接收一个函数，将原数组中的所有元素用这个函数处理后放入新的数组返回
    
        let arrInt = [1, 2, 3, 4, 5, 6]
        let numbers = arrInt.map(s => parseFloat(s));
        console.log(numbers)
    
        
        let reduce = arrInt.reduce((a, b) => {
            return a + b
        });
        //1+2=3
        //3+3=6
        //6+4=10
        //10+5=15
        //15+6=21
    
        console.log(reduce)*/


    /*    //扩展运算符 spread 三个点...    将一个数组转为用逗号分隔的参数序列
        console.log(...[1, 2, 3])
        console.log(1, ...[2, 3, 4, 5])
    
        function add(x, y) {
            return x + y
        }
    
        let num = [1, 3]
        console.log(add(...num))
    
        //数组合并
        let ar = [...[1, 2, 3], ...[4, 5, 6]]
        console.log(ar)
        //与结构表达式结合
        const [first, ...rest] = [1, 2, 3, 4, 5]
        console.log(first, rest)
    
        //将字符串转成数组
        console.log([...'HELLONISHAO'])*/


    //promise  异步容器
    const p = new Promise(function (resolve, reject) {
        setTimeout(() => {
            let num = Math.random();
            if (num > 0.5) {
                resolve("成功了" + num)
            } else {
                reject("失败了" + num)
            }
        });
    })


    p.then(function (value) {
        //成功
        console.log(value)
    }).catch(function (error) {
        //失败
        console.log(error)
    })


    p.then((value => {
        console.log(value)
    })).catch((error => {
        console.log(error)
    }))

</script>


</body>
</html>